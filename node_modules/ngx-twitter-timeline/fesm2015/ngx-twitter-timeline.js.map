{"version":3,"file":"ngx-twitter-timeline.js.map","sources":["ng://ngx-twitter-timeline/lib/ngx-twitter-timeline.service.ts","ng://ngx-twitter-timeline/lib/ngx-twitter-timeline.component.ts","ng://ngx-twitter-timeline/lib/ngx-twitter-timeline.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxTwitterTimelineService {\n  private TWITTER_SCRIPT_ID = 'twitter-wjs';\n  private TWITTER_WIDGET_URL = 'https://platform.twitter.com/widgets.js';\n\n  constructor() { }\n\n  loadScript(): Observable<any> {\n    return Observable.create(observer => {\n\n      this.startScriptLoad();\n\n      window['twttr'].ready((twttr) => {\n        observer.next(twttr);\n        observer.complete();\n      });\n\n    });\n  }\n\n  private startScriptLoad() {\n    window['twttr'] = (function(d, s, id, url)\n    {\n      let script,\n      firstScriptEl = d.getElementsByTagName(s)[0],\n      twitterScript = window['twttr'] || {};\n      if (d.getElementById(id)) {\n        return twitterScript;\n      }\n\n      script = d.createElement(s);\n      script.id = id;\n      script.src = url;\n      firstScriptEl.parentNode.insertBefore(script, firstScriptEl);\n\n      twitterScript._e = [];\n\n      twitterScript.ready = function(f) {\n        twitterScript._e.push(f);\n      };\n\n      return twitterScript;\n    }(document, 'script', this.TWITTER_SCRIPT_ID, this.TWITTER_WIDGET_URL));\n  }\n}\n","import { Component, ElementRef, Input } from '@angular/core';\nimport { NgxTwitterTimelineService } from './ngx-twitter-timeline.service';\nimport NgxTwitterTimelineData from './ngx-twitter-timeline-data.interface';\nimport NgxTwitterTimelineOptions from './ngx-twitter-timeline-options.interface';\n\n@Component({\n  selector: 'ngx-twitter-timeline',\n  template: ``\n})\nexport class NgxTwitterTimelineComponent {\n/**\n   * The data source definition object for the content to be displayed in the widget.\n   * May be a widget ID string for a search API timeline or legacy widget\n   */\n  @Input() data: NgxTwitterTimelineData;\n  /**\n   * A hash of additional options to configure the widget\n   */\n  @Input() opts: NgxTwitterTimelineOptions;\n  defaultOpts: NgxTwitterTimelineOptions = {\n    tweetLimit: 5\n  };;\n  defaultData: NgxTwitterTimelineData = {\n    sourceType: 'url',\n    url: 'https://twitter.com/twitterdev',\n    screenName: 'twitterdev'\n  };\n\n  constructor(\n    private element: ElementRef,\n    private twitterTimelineService: NgxTwitterTimelineService\n  ) { }\n\n  ngOnChanges() {\n    if (this.data && this.data.sourceType) {\n      switch (this.data.sourceType) {\n        case 'url':\n          delete this.defaultData.screenName;\n          break;\n        case 'profile':\n          delete this.defaultData.url;\n          break;\n        default:\n          break;\n      }\n      this.loadTwitterWidget();\n    }\n  }\n\n  loadTwitterWidget() {\n    this.twitterTimelineService\n      .loadScript()\n      .subscribe(\n        twttr => {\n          let nativeElement = this.element.nativeElement;\n          nativeElement.innerHTML = \"\";\n          window['twttr']\n            .widgets\n            .createTimeline(\n              { ...this.defaultData, ...this.data },\n              nativeElement,\n              { ...this.defaultOpts, ...this.opts }\n            )\n            .then(embed => {\n              // console.log(embed);\n            })\n            .catch(error => console.error(error))\n        },\n        err => console.error(err));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxTwitterTimelineComponent } from './ngx-twitter-timeline.component';\n\n@NgModule({\n  declarations: [NgxTwitterTimelineComponent],\n  imports: [\n  ],\n  exports: [NgxTwitterTimelineComponent]\n})\nexport class NgxTwitterTimelineModule { }\n"],"names":[],"mappings":"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"}
